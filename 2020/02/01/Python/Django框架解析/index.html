<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <!--  -->

  
  <title>Python/Django框架解析 | Orcate</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="Python\Django框架解析title: Django框架解析date: 2020-02-01 22:23:47tags: [Django]layout:comments: truecategories: Pythonkeywords: Pythondescription: Python Django软件框架 一个公司是由公司中的各部部门来组成的，每一个部门拥有特定的职能，部门与部门之间通过">
<meta property="og:type" content="article">
<meta property="og:title" content="Python&#x2F;Django框架解析">
<meta property="og:url" content="http://yoursite.com/2020/02/01/Python/Django%E6%A1%86%E6%9E%B6%E8%A7%A3%E6%9E%90/index.html">
<meta property="og:site_name" content="Orcate">
<meta property="og:description" content="Python\Django框架解析title: Django框架解析date: 2020-02-01 22:23:47tags: [Django]layout:comments: truecategories: Pythonkeywords: Pythondescription: Python Django软件框架 一个公司是由公司中的各部部门来组成的，每一个部门拥有特定的职能，部门与部门之间通过">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://yoursite.com/2020/02/01/Python/Django%E6%A1%86%E6%9E%B6%E8%A7%A3%E6%9E%90/1.png">
<meta property="og:image" content="http://yoursite.com/2020/02/01/Python/Django%E6%A1%86%E6%9E%B6%E8%A7%A3%E6%9E%90/2.png">
<meta property="og:image" content="http://yoursite.com/2020/02/01/Python/Django%E6%A1%86%E6%9E%B6%E8%A7%A3%E6%9E%90/3.png">
<meta property="og:image" content="http://yoursite.com/2020/02/01/Python/Django%E6%A1%86%E6%9E%B6%E8%A7%A3%E6%9E%90/4.png">
<meta property="og:image" content="http://yoursite.com/2020/02/01/Python/Django%E6%A1%86%E6%9E%B6%E8%A7%A3%E6%9E%90/5.png">
<meta property="og:image" content="http://yoursite.com/2020/02/01/Python/Django%E6%A1%86%E6%9E%B6%E8%A7%A3%E6%9E%90/6.png">
<meta property="og:image" content="http://yoursite.com/2020/02/01/Python/Django%E6%A1%86%E6%9E%B6%E8%A7%A3%E6%9E%90/7.png">
<meta property="og:image" content="http://yoursite.com/2020/02/01/Python/Django%E6%A1%86%E6%9E%B6%E8%A7%A3%E6%9E%90/8.png">
<meta property="og:image" content="http://yoursite.com/2020/02/01/Python/Django%E6%A1%86%E6%9E%B6%E8%A7%A3%E6%9E%90/9.png">
<meta property="og:image" content="http://yoursite.com/2020/02/01/Python/Django%E6%A1%86%E6%9E%B6%E8%A7%A3%E6%9E%90/10.png">
<meta property="og:image" content="http://yoursite.com/2020/02/01/Python/Django%E6%A1%86%E6%9E%B6%E8%A7%A3%E6%9E%90/11.png">
<meta property="og:image" content="http://yoursite.com/2020/02/01/Python/Django%E6%A1%86%E6%9E%B6%E8%A7%A3%E6%9E%90/12.png">
<meta property="og:image" content="http://yoursite.com/2020/02/01/Python/Django%E6%A1%86%E6%9E%B6%E8%A7%A3%E6%9E%90/13.png">
<meta property="og:image" content="http://yoursite.com/2020/02/01/Python/Django%E6%A1%86%E6%9E%B6%E8%A7%A3%E6%9E%90/14.png">
<meta property="og:image" content="http://yoursite.com/2020/02/01/Python/Django%E6%A1%86%E6%9E%B6%E8%A7%A3%E6%9E%90/15.png">
<meta property="og:image" content="http://yoursite.com/2020/02/01/Python/Django%E6%A1%86%E6%9E%B6%E8%A7%A3%E6%9E%90/16.png">
<meta property="og:image" content="http://yoursite.com/2020/02/01/Python/Django%E6%A1%86%E6%9E%B6%E8%A7%A3%E6%9E%90/17.png">
<meta property="og:image" content="http://yoursite.com/2020/02/01/Python/Django%E6%A1%86%E6%9E%B6%E8%A7%A3%E6%9E%90/18.png">
<meta property="og:image" content="http://yoursite.com/2020/02/01/Python/Django%E6%A1%86%E6%9E%B6%E8%A7%A3%E6%9E%90/19.png">
<meta property="article:published_time" content="2020-02-01T03:35:56.011Z">
<meta property="article:modified_time" content="2020-02-01T04:07:53.999Z">
<meta property="article:author" content="Orcate">
<meta property="article:tag" content="Orcate">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://yoursite.com/2020/02/01/Python/Django%E6%A1%86%E6%9E%B6%E8%A7%A3%E6%9E%90/1.png">
  
    <link rel="alternate" href="/atom.xml" title="Orcate" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.ico">
  
  
    <!-- <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css"> -->
  
  
<link rel="stylesheet" href="/css/style.css">

<meta name="generator" content="Hexo 4.2.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Orcate</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">技能树笔记</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">首页</a>
        
          <a class="main-nav-link" href="/archives">归档</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="搜索"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-Python/Django框架解析" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/02/01/Python/Django%E6%A1%86%E6%9E%B6%E8%A7%A3%E6%9E%90/" class="article-date">
  <time datetime="2020-02-01T03:35:56.011Z" itemprop="datePublished">2020-02-01</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Python/Django框架解析
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Python\Django框架解析title: Django框架解析<br>date: 2020-02-01 22:23:47<br>tags: [Django]<br>layout:<br>comments: true<br>categories: Python<br>keywords: Python<br>description: Python</p>
<h1 id="Django"><a href="#Django" class="headerlink" title="Django"></a><strong>Django</strong></h1><h2 id="软件框架"><a href="#软件框架" class="headerlink" title="软件框架"></a><strong>软件框架</strong></h2><p><img src="/2020/02/01/Python/Django%E6%A1%86%E6%9E%B6%E8%A7%A3%E6%9E%90/1.png" alt="img"></p>
<p>一个公司是由公司中的各部部门来组成的，每一个部门拥有特定的职能，部门与部门之间通过相互的配合来完成让公司运转起来。</p>
<a id="more"></a>

<p>一个软件框架是由其中各个软件模块组成的，每一个模块都有特定的功能，模块与模块之间通过相互配合来完成软件的开发。</p>
<p>软件框架是针对某一类软件设计问题而产生的。</p>
<h2 id="MVC框架"><a href="#MVC框架" class="headerlink" title="MVC框架"></a><strong>MVC框架</strong></h2><p>施乐公司 帕罗奥多研究中心 smalltalk语言 simula 67</p>
<p>​    软件设计模式</p>
<p>​    MVC的产生理念： <strong>分工</strong>。让专门的人去做专门的事。</p>
<p>​    <img src="/2020/02/01/Python/Django%E6%A1%86%E6%9E%B6%E8%A7%A3%E6%9E%90/2.png" alt="img"> <img src="/2020/02/01/Python/Django%E6%A1%86%E6%9E%B6%E8%A7%A3%E6%9E%90/3.png" alt="img">)<img src="/2020/02/01/Python/Django%E6%A1%86%E6%9E%B6%E8%A7%A3%E6%9E%90/4.png" alt="img"></p>
<p>输入，处理，输出</p>
<p>​    MVC的核心思想： <strong>解耦</strong>。</p>
<p>通过浏览器注册用户信息。</p>
<p>M： Model,模型， </p>
<p>V： View,视图， </p>
<p>C： Controller,控制器, </p>
<h2 id="MVT"><a href="#MVT" class="headerlink" title="MVT"></a><strong>MVT</strong></h2><p>​    Django 劳伦斯出版集团 新闻内容网站。Python MVC</p>
<p>快速开发和DRY原则。Do not repeat yourself.不要自己去重复一些工作。</p>
<p>M：Model,模型， </p>
<p>V： View,视图， </p>
<p>T： Template,模板， </p>
<h2 id="虚拟环境"><a href="#虚拟环境" class="headerlink" title="虚拟环境"></a><strong>虚拟环境</strong></h2><p><img src="/2020/02/01/Python/Django%E6%A1%86%E6%9E%B6%E8%A7%A3%E6%9E%90/5.png" alt="img"> </p>
<p>之前安装python包的命令： sudo pip3 install 包名</p>
<p>包的安装路径：/usr/local/lib/python3.5/dist-packages</p>
<p>安装同一个包的不同版本，后安装的包会把原来安装的包覆盖掉。这样，如同一台机器上两个项目依赖于相同包的不同版本，则会导致一些项目运行失败。</p>
<p>解决的方案就是：虚拟环境。</p>
<p>虚拟环境是真实python环境的复制版本。</p>
<p><strong>安装虚拟环境的命令：</strong></p>
<p>1）sudo pip install virtualenv #安装虚拟环境</p>
<p>2）sudo pip install virtualenvwrapper #安装虚拟环境扩展包</p>
<p>3）编辑家目录下面的.bashrc文件，添加下面两行。</p>
<p><strong>export WORKON_HOME=$HOME/.virtualenvs</strong></p>
<p><strong>source /usr/local/bin/virtualenvwrapper.sh</strong></p>
<p>4）使用source .bashrc使其生效一下。</p>
<p>创建虚拟环境命令：</p>
<p>​    mkvirtualenv 虚拟环境名</p>
<p>创建python3虚拟环境：</p>
<p>mkvirtualenv -p python3 bj11_py3</p>
<p>进入虚拟环境工作：</p>
<p>​    workon 虚拟环境名</p>
<p>查看机器上有多少个虚拟环境：</p>
<p>​    workon 空格 + 两个tab键</p>
<p>退出虚拟环境：</p>
<p>​    deactivate</p>
<p>删除虚拟环境：</p>
<p>​    rmvirtualenv 虚拟环境名</p>
<p>虚拟环境下安装包的命令：</p>
<p>pip install 包名</p>
<p>注意：不能使用sudo pip install 包名，这个命令会把包安装到真实的主机环境上而不是安装到虚拟环境中。</p>
<p>apt-get install 软件</p>
<p>pip install python包名</p>
<p>安装django环境：</p>
<p>​    pip install django==1.8.2</p>
<p>查看虚拟环境中安装了哪些python包：</p>
<p>​    pip list</p>
<p>​    pip freeze</p>
<h2 id="项目创建"><a href="#项目创建" class="headerlink" title="项目创建"></a><strong>项目创建</strong></h2><p>命令：django-admin startproject 项目名</p>
<p>注意：创建应用必须先进入虚拟环境。</p>
<p>项目目录如下：</p>
<p><img src="/2020/02/01/Python/Django%E6%A1%86%E6%9E%B6%E8%A7%A3%E6%9E%90/6.png" alt="img"> </p>
<p><strong>init</strong>.py: 说明test1是一个python包。</p>
<p>settings.py: </p>
<p>urls.py: </p>
<p>wsgi.py: </p>
<p>manage.py:  </p>
<p><img src="/2020/02/01/Python/Django%E6%A1%86%E6%9E%B6%E8%A7%A3%E6%9E%90/7.png" alt="img"> </p>
<p>一个项目由很多个应用组成的，每一个应用完成一个特定的功能。</p>
<p>创建应用的命令如下：</p>
<p>python manage.py startapp 应用名</p>
<p>注意：创建应用时需要先进入项目目录。</p>
<p>应用目录如下：</p>
<p><img src="/2020/02/01/Python/Django%E6%A1%86%E6%9E%B6%E8%A7%A3%E6%9E%90/8.png" alt="img"> </p>
<p><strong>init</strong>.py: </p>
<p>models.py: </p>
<p>views.py: </p>
<p>tests.py: </p>
<p>admin.py: </p>
<p>建立应用和项目之间的联系，需要对应用进行注册。</p>
<p>修改settings.py中的INSTALLED_APPS配置项。</p>
<p><img src="/2020/02/01/Python/Django%E6%A1%86%E6%9E%B6%E8%A7%A3%E6%9E%90/9.png" alt="img"> </p>
<p>运行开发web服务器命令：</p>
<p>​    python manage.py runserver</p>
<h2 id="ORM"><a href="#ORM" class="headerlink" title="ORM"></a><strong>ORM</strong></h2><p>django中内嵌了ORM框架，ORM框架可以将类和数据表进行对应起来，只需要通过类和对象就可以对数据表进行操作。</p>
<p>设计类：模型类。</p>
<p>ORM另外一个作用：根据设计的类生成数据库中的表。</p>
<h2 id="模型类"><a href="#模型类" class="headerlink" title="模型类"></a><strong>模型类</strong></h2><h3 id="模型类设计"><a href="#模型类设计" class="headerlink" title="模型类设计"></a><strong>模型类设计</strong></h3><p>在应用models.py中设计模型类。</p>
<p>必须继承与models.Model类。</p>
<p>1） 设计BookInfo类。</p>
<p>2） 设计HeroInfo类。</p>
<p>Models.ForeignKey可以建立两个模型类之间一对多的关系，django在生成表的时候，就会在多的表中创建一列作为外键，建立两个表之间一对多的关系。</p>
<h3 id="模型类生成表"><a href="#模型类生成表" class="headerlink" title="模型类生成表"></a><strong>模型类生成表</strong></h3><p>1） 生成迁移文件</p>
<p>命令：python manage.py makemigrations</p>
<p><img src="/2020/02/01/Python/Django%E6%A1%86%E6%9E%B6%E8%A7%A3%E6%9E%90/10.png" alt="img"> </p>
<p>迁移文件是根据模型类生成的。</p>
<p>2） 执行迁移生成表</p>
<p>命令：python mange.py migrate</p>
<p>根据迁移文件生成表。</p>
<p>生成表名的默认格式：</p>
<p>​    应用名_模型类名小写</p>
<h3 id="通过模型类操作数据表"><a href="#通过模型类操作数据表" class="headerlink" title="通过模型类操作数据表"></a><strong>通过模型类操作数据表</strong></h3><p>进入项目shell的命令:</p>
<p>​    python manage.py shell</p>
<p>以下为在相互shell终端中演示的例子：</p>
<p>首先导入模型类：</p>
<p>​    from booktest.models import BookInfo,HeroInfo</p>
<p><strong>1）向booktest_bookinfo表中插入一条数据。</strong></p>
<p>​    b = BookInfo() #定义一个BookInfo类的对象</p>
<p>​    b.btitle =’天龙八部’ #定义b对象的属性并赋值</p>
<p>​    b.bpub_date = date(1990,10,11) </p>
<p>​    b.save() #才会将数据保存进数据库</p>
<p><strong>2）查询出booktest_bookinfo表中id为1的数据。</strong></p>
<p>​    b = BookInfo.objects.get(id=1) </p>
<p><strong>3）在上一步的基础上改变b对应图书的出版日期。</strong></p>
<p>​    b.bpub_date = date(1989,10,21)</p>
<p>​    b.save() #才会更新表格中的数据</p>
<p><strong>4）紧接上一步，删除b对应的图书的数据。</strong></p>
<p>​    b.delete() #才会删除</p>
<p><strong>5）向booktest_heroInfo表中插入一条数据。</strong></p>
<p>​    h = HeroInfo()</p>
<p>​    h.hname = ‘郭靖’<br>    h.hgender = False</p>
<p>​    h.hcomment = ‘降龙十八掌’</p>
<p>​    b2 = BookInfo.objects.get(id=2)</p>
<p>​    h.hbook = b2  #给关系属性赋值，英雄对象所属的图书对象</p>
<p>​    h.save() </p>
<p><strong>6）查询图书表里面的所有内容。</strong></p>
<p>​    BookInfo.objects.all()</p>
<p>​    HeroInfo.objects.all()</p>
<p><strong>关系操作</strong></p>
<p><img src="/2020/02/01/Python/Django%E6%A1%86%E6%9E%B6%E8%A7%A3%E6%9E%90/11.png" alt="img">1）查询出id为2的图书中所有英雄人物的信息。</p>
<p>​    b = BookInfo.objects.get(id=2)</p>
<p>​    b.heroinfo_set.all() #查询出b图书中所有英雄人物的信息</p>
<h2 id="后台管理"><a href="#后台管理" class="headerlink" title="后台管理"></a><strong>后台管理</strong></h2><p>1） 本地化</p>
<p>语言和时区的本地化。</p>
<p>修改settings.py文件。</p>
<p>2） 创建管理员</p>
<p>命令：python manage.py createsuperuser</p>
<p>3） 注册模型类</p>
<p>在应用下的admin.py中注册模型类。</p>
<p>告诉djang框架根据注册的模型类来生成对应表管理页面。</p>
<p>b = BookInfo()</p>
<p>str(b) <strong>str</strong></p>
<p>4） 自定义管理页面</p>
<p>自定义模型管理类。模型管理类就是告诉django在生成的管理页面上显示哪些内容。</p>
<h2 id="视图"><a href="#视图" class="headerlink" title="视图"></a><strong>视图</strong></h2><p>在Django中，通过浏览器去请求一个页面时，使用视图函数来处理这个请求的，视图函数处理之后，要给浏览器返回页面内容。</p>
<h3 id="视图函数的使用"><a href="#视图函数的使用" class="headerlink" title="视图函数的使用"></a><strong>视图函数的使用</strong></h3><p>1）定义视图函数</p>
<p>视图函数定义在views.py中。</p>
<p>例：</p>
<p>​        def index(request):</p>
<p>​            #进行处理。。。</p>
<p>​            return HttpResponse(‘hello python’)</p>
<p>视图函数必须有一个参数request，进行处理之后，需要返回一个HttpResponse的类对象，hello python就是返回给浏览器显示的内容。</p>
<p>2）进行url配置</p>
<p><img src="/2020/02/01/Python/Django%E6%A1%86%E6%9E%B6%E8%A7%A3%E6%9E%90/12.png" alt="img"> </p>
<p>​    url配置的目的是让建立url和视图函数的对应关系。url配置项定义在urlpatterns的列表中，每一个配置项都调用url函数。</p>
<p>url函数有两个参数，第一个参数是一个正则表达式，第二个是对应的处理动作。</p>
<p>配置url时，有两种语法格式：</p>
<p>a) url(正则表达式，视图函数名)</p>
<p>b) url(正则表达式，include(应用中的urls文件))</p>
<p>工作中在配置url时，首先在项目的urls.py文件中添加配置项时，并不写具体的url和视图函数之间的对应关系，而是包含具体应用的urls.py文件，在应用的urls.py文件中写url和视图函数的对应关系。</p>
<h3 id="url匹配的过程"><a href="#url匹配的过程" class="headerlink" title="url匹配的过程"></a><strong>url匹配的过程</strong></h3><p>在项目的urls.py文件中包含具体应用的urls.py文件，应用的urls.py文件中写url和视图函数的对应关系。</p>
<p><img src="/2020/02/01/Python/Django%E6%A1%86%E6%9E%B6%E8%A7%A3%E6%9E%90/13.png" alt="img"> </p>
<p>当用户输入如<a href="http://127.0.0.1:8000/aindex" target="_blank" rel="noopener">http://127.0.0.1:8000/aindex</a>时，去除域名和最前面的/，剩下aindex，拿aindex字符串到项目的urls文件中进行匹配，配置成功之后，去除匹配的a字符，那剩下的index字符串继续到项目的urls文件中进行正则匹配，匹配成功之后执行视图函数index，index视图函数返回内容hello python给浏览器来显示。</p>
<h2 id="模板"><a href="#模板" class="headerlink" title="模板"></a><strong>模板</strong></h2><p>模板不仅仅是一个html文件。</p>
<h3 id="模板文件的使用"><a href="#模板文件的使用" class="headerlink" title="模板文件的使用"></a><strong>模板文件的使用</strong></h3><p>1） 创建模板文件夹</p>
<p>2） 配置模板目录</p>
<p><img src="/2020/02/01/Python/Django%E6%A1%86%E6%9E%B6%E8%A7%A3%E6%9E%90/14.png" alt="img">)3)    使用模板文件</p>
<p>a) 加载模板文件</p>
<p>去模板目录下面获取html文件的内容，得到一个模板对象。</p>
<p>b) 定义模板上下文</p>
<p>向模板文件传递数据。</p>
<p>c) 模板渲染</p>
<p>得到一个标准的html内容。</p>
<h3 id="给模板文件传递数据"><a href="#给模板文件传递数据" class="headerlink" title="给模板文件传递数据"></a><strong>给模板文件传递数据</strong></h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">模板变量使用：&#123;&#123; 模板变量名 &#125;&#125;</span><br><span class="line"></span><br><span class="line">模板代码段：&#123;%代码段%&#125;</span><br><span class="line"></span><br><span class="line">for循环：</span><br><span class="line"></span><br><span class="line">&#123;% for i in list %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% endfor %&#125;</span><br></pre></td></tr></table></figure>

<h2 id="案例完成"><a href="#案例完成" class="headerlink" title="案例完成"></a><strong>案例完成</strong></h2><p>编码之前的准备工作：</p>
<p>1） 设计出访问页面的url和对应的视图函数的名字，确定视图函数的功能。</p>
<p>2） 设计模板文件的名字。</p>
<p><strong>以下为案例中的简单设计过程：</strong></p>
<p>1）完成图书信息的展示：</p>
<p>a) 设计url，通过浏览器访问 <a href="http://127.0.0.1:8000/books/%20时显示图书信息页面" target="_blank" rel="noopener">http://127.0.0.1:8000/books/ 时显示图书信息页面</a>。</p>
<p>b) 设计url对应的视图函数show_books。</p>
<p>查询出所有图书的信息，将这些信息传递给模板文件。</p>
<p>c) 编写模板文件show_books.html。</p>
<p>遍历显示出每一本图书的信息。</p>
<p>2) 完成点击某本图书时，显示出图书里所有英雄信息的页面。</p>
<p>a) 设计url,通过访问<a href="http://127.0.0.1:8000/数字/时显示对应的英雄信息页面。" target="_blank" rel="noopener">http://127.0.0.1:8000/数字/时显示对应的英雄信息页面。</a></p>
<p>这里数字指点击的图书的id。</p>
<p>​        b）设计对应的视图函数detail。</p>
<p>​            接收图书的id,根据id查询出相应的图书信息，然后查询出图书中的所有英雄信息。</p>
<p>b) 编写模板文件detail.html。</p>
<h1 id="模型"><a href="#模型" class="headerlink" title="模型"></a><strong>模型</strong></h1><h2 id="Django-ORM"><a href="#Django-ORM" class="headerlink" title="Django ORM"></a><strong>Django ORM</strong></h2><p><img src="/2020/02/01/Python/Django%E6%A1%86%E6%9E%B6%E8%A7%A3%E6%9E%90/15.png" alt="img"> </p>
<p>O：(objects)-&gt;类和对象。</p>
<p>R：(Relation)-&gt;关系，关系数据库中的表格。</p>
<p>M：（Mapping）-&gt;映射。</p>
<p><strong>ORM框架的功能：</strong></p>
<p>a) 能够允许我们通过面向对象的方式来操作数据库。</p>
<p>b) 可以根据我们设计的模型类帮我们自动生成数据库中的表格。</p>
<p>c) 通过方便的配置就可以进行数据库的切换。</p>
<h2 id="数据库配置"><a href="#数据库配置" class="headerlink" title="数据库配置"></a><strong>数据库配置</strong></h2><p><strong>mysql命令回顾：</strong></p>
<p>登录mysql数据库：mysql –uroot –p </p>
<p>查看有哪些数据库：show databases;</p>
<p>创建数据库：create database test2 <strong>charset=utf8**</strong>;** #切记：指定编码</p>
<p>使用数据库：use test2;</p>
<p>查看数据库中的表：show tables;</p>
<p>Django配置使用mysql数据库：</p>
<p>修改settings.py中的DATABASES。</p>
<p><img src="/2020/02/01/Python/Django%E6%A1%86%E6%9E%B6%E8%A7%A3%E6%9E%90/16.png" alt="img"> </p>
<p>注意：django框架不会自动帮我们生成mysql数据库，所以我们需要自己去创建。</p>
<p>切换mysql数据库之后不能启动服务器：</p>
<p>安装mysqlPython包: </p>
<p><strong>python2：</strong></p>
<p>  pip install mysql-python</p>
<p><strong>python3:</strong></p>
<p>安装pymysql:</p>
<p>  pip install pymysql</p>
<p>在test1/<strong>init</strong>.py中加如下内容：</p>
<p>import pymysql</p>
<p>pymysql.install_as_MySQLdb()</p>
<h2 id="复习案例"><a href="#复习案例" class="headerlink" title="复习案例"></a><strong>复习案例</strong></h2><p>1) 设计模型类并生成表</p>
<p>a) 设计BookInfo,增加属性bread和bcomment，另外设置软删除标记属性isDelete。</p>
<p>b) 设计HeroInfo类，增加软删除标记属性isDelete。</p>
<p>软删除标记：删除数据时不做真正的删除，而是把标记位置1表示删除，防止重要的数据丢失。</p>
<p>2) 编写视图函数并配置URL。</p>
<p><img src="/2020/02/01/Python/Django%E6%A1%86%E6%9E%B6%E8%A7%A3%E6%9E%90/17.png" alt="img"> </p>
<p>页面重定向：服务器不返回页面，而是告诉浏览器再去请求其他的url。</p>
<p>3）创建模板文件。</p>
<p><strong>拆解功能：</strong></p>
<p>1) 图书信息展示页。</p>
<p>a) 设计url，通过浏览器访问 <a href="http://127.0.0.1/index/%20时显示图书信息页面" target="_blank" rel="noopener">http://127.0.0.1:8000/index/ 时显示图书信息页面</a>。</p>
<p>b) 设计url对应的视图函数index。</p>
<p>查询出所有图书的信息，将这些信息传递给模板文件。</p>
<p>c) 编写模板文件index.html。</p>
<p>遍历显示出每一本图书的信息并增加新建和删除超链接。</p>
<p>2）图书信息新增。</p>
<p>a）设计url，通过浏览器访问 <a href="http://127.0.0.1:8000/create/时向数据库中新增一条图书信息" target="_blank" rel="noopener">http://127.0.0.1:8000/create/时向数据库中新增一条图书信息</a>。</p>
<p>b) 设计url对应得视图函数create。</p>
<p>3）图书信息删除。</p>
<p>a）设计url，通过浏览器访问 <a href="http://127.0.0.1:8000/delete" target="_blank" rel="noopener">http://127.0.0.1:8000/delete</a>数字/删除数据库中对应的一条图书数据。</p>
<p>​    数字是点击的图书的id。</p>
<p>b) 设计url对应得视图函数delete。</p>
<h2 id="字段属性和选项"><a href="#字段属性和选项" class="headerlink" title="字段属性和选项"></a><strong>字段属性和选项</strong></h2><p><strong>属性命名限制：</strong></p>
<p>1）不能是python的保留关键字。</p>
<p>2）不允许使用连续的下划线，这是由django的查询方式决定的。</p>
<p>3）定义属性时需要指定字段类型，通过字段类型的参数指定选项，语法如下：</p>
<p>属性名=models.字段类型(选项)</p>
<p><strong>字段类型</strong></p>
<p>使用时需要引入django.db.models包，字段类型如下：</p>
<p><strong>AutoField：</strong>自动增长的IntegerField，通常不用指定，不指定时Django会自动创建属性名为id的自动增长属性。</p>
<p><strong>BooleanField：</strong>布尔字段，值为True或False。</p>
<p><strong>NullBooleanField：</strong>支持Null、True、False三种值。</p>
<p>CharField(max_length=字符长度)：字符串。</p>
<p>参数max_length表示最大字符个数。</p>
<p><strong>TextField：</strong>大文本字段，一般超过4000个字符时使用。</p>
<p><strong>IntegerField：</strong>整数。</p>
<p><strong>DecimalField</strong>(max_digits=None, decimal_places=None)：十进制浮点数。</p>
<p>参数max_digits表示总位数。</p>
<p>参数decimal_places表示小数位数。</p>
<p><strong>FloatField：</strong>浮点数。</p>
<p><strong>DateField**</strong>：**[auto_now=False, auto_now_add=False])：日期。</p>
<p>参数auto_now表示每次保存对象时，自动设置该字段为当前时间，用于”最后一次修改”的时间戳，它总是使用当前日期，默认为false。</p>
<p>参数auto_now_add表示当对象第一次被创建时自动设置当前时间，用于创建的时间戳，它总是使用当前日期，默认为false。</p>
<p>参数auto_now_add和auto_now是相互排斥的，组合将会发生错误。</p>
<p><strong>TimeField：</strong>时间，参数同DateField。</p>
<p><strong>DateTimeField：</strong>日期时间，参数同DateField。</p>
<p><strong>FileField：</strong>上传文件字段。</p>
<p><strong>ImageField：</strong>继承于FileField，对上传的内容进行校验，确保是有效的图片。</p>
<p><strong>选项</strong></p>
<p>通过选项实现对字段的约束，选项如下：</p>
<p><strong>null：</strong>如果为True，表示允许为空，默认值是False。</p>
<p><strong>blank：</strong>如果为True，则该字段允许为空白，默认值是False。</p>
<p>对比：null是数据库范畴的概念，blank是表单验证证范畴的。</p>
<p><strong>db_column：</strong>字段的名称，如果未指定，则使用属性的名称。</p>
<p><strong>db_index：</strong>若值为True, 则在表中会为此字段创建索引，默认值是False。</p>
<p><strong>default：</strong>默认值。</p>
<p><strong>primary_key：</strong>若为True，则该字段会成为模型的主键字段，默认值是False，一般作为AutoField的选项使用。</p>
<p><strong>unique：</strong>如果为True, 这个字段在表中必须有唯一值，默认值是False。</p>
<h2 id="查询"><a href="#查询" class="headerlink" title="查询"></a><strong>查询</strong></h2><p><strong>查看mysql的日志文件：</strong></p>
<p>1) sudo vi /etc/mysql/mysql.conf.d/mysqld.cnf 68 69行</p>
<p>2) sudo service mysql restart 重启mysql服务</p>
<p>3) /var/log/mysql/mysql.log #mysql操作的记录文件。</p>
<p>4) sudo tail -f /var/log/mysql/mysql.log #实时查看mysql文件的内容。</p>
<p><strong>g**</strong>et():返回表中满足条件的<strong><strong>一条且只能有一条</strong></strong>数据。**</p>
<p>如果查到多条数据，则抛异常：MultipleObjectsReturned</p>
<p>查询不到数据，则抛异常：DoesNotExist</p>
<p>例：查询图书id为3的图书信息。</p>
<p><strong>all():返回模型类对应表格中的所有数据。**</strong>QuerySet类型<strong>**，查询集</strong></p>
<p>例：查询图书所有信息。</p>
<p><strong>filter():参数写查询条件，返回满足条件的数据。**</strong>QuerySet**</p>
<p>条件格式：</p>
<p>​    模型类属性名__条件名=值</p>
<p>查询图书评论量为34的图书的信息：</p>
<p><strong>1.</strong>    <strong>判等 exact**</strong>。**</p>
<p>例：查询编号为1的图书。</p>
<p>BookInfo.objects.get(id=1)</p>
<p>BookInfo.objects.get(id__exact=1)</p>
<p><strong>2.</strong>    <strong>模糊查询</strong></p>
<p>例：查询书名包含’传’的图书。contains</p>
<p>BookInfo.objects.filter(btitle__contains=’传’)</p>
<p>例：查询书名以’部’结尾的图书 endswith 开头:startswith</p>
<p>BookInfo.objects.filter(btitle__endswith=’部’)</p>
<p><strong>3.</strong>    <strong>空查询</strong> <strong>isnull select * from booktest_bookinfo where title is not null;</strong></p>
<p>例：查询书名不为空的图书。isnull </p>
<p>BookInfo.objects.filter(btitle__isnull=False)</p>
<p><strong>4.</strong>    <strong>范围查询</strong> in select * from booktest_bookinfo where id in (1,3,5)</p>
<p>例：查询编号为1或3或5的图书。</p>
<p>BookInfo.objects.filter(id__in = [1,3,5])</p>
<p><strong>5.</strong>    <strong>比较查询</strong> </p>
<p>例：查询编号大于3的图书。gt(greate than) lt(less than)小于 gte(equal) lte</p>
<p>BookInfo.objects.filter(id__gt = 3)</p>
<p><strong>6.</strong>    <strong>日期查询</strong></p>
<p>例：查询1980年发表的图书。</p>
<p>BookInfo.objects.filter(bpub_date__year=1980)</p>
<p>例：查询1980年1月1日后发表的图书。</p>
<p>from datetime import date</p>
<p>BookInfo.objects.filter(bpub_date__gt = date(1980,1,1))</p>
<p><strong>exclude:返回不满足条件的数据**</strong>。<strong>**QuerySet</strong></p>
<p>例：查询id不为3的图书信息。</p>
<p>BookInfo.objects.exclude(id=3)</p>
<h2 id="F对象"><a href="#F对象" class="headerlink" title="F对象"></a><strong>F对象</strong></h2><p><strong>作用：</strong>用于类属性之间的比较条件。</p>
<p><strong>使用之前需要**</strong>先导入**：</p>
<p>from django.db.models import F</p>
<p>例：查询图书阅读量大于评论量图书信息。</p>
<p>BookInfo.objects.filter(bread__gt = F(‘bcomment’))</p>
<p>例：查询图书阅读量大于2倍评论量图书信息。</p>
<p>BookInfo.objects.filter(bread__gt = F(‘bcomment’)*2)</p>
<h2 id="Q对象"><a href="#Q对象" class="headerlink" title="Q对象"></a><strong>Q对象</strong></h2><p><strong>作用：</strong>用于查询时的逻辑条件。not and or，可以对Q对象进行&amp;|~操作。</p>
<p><strong>使用之前需要先导入：</strong></p>
<p>from django.db.models import Q</p>
<p>例：查询id大于3且阅读量大于30的图书的信息。</p>
<p>BookInfo.objects.filter(id__gt=3, bread__gt=30)</p>
<p>BookInfo.objects.filter(Q(id__gt=3)&amp;Q(bread__gt=30))</p>
<p>例：查询id大于3或者阅读量大于30的图书的信息。</p>
<p>BookInfo.objects.filter(Q(id__gt=3)|Q(bread__gt=30))</p>
<p>例：查询id不等于3图书的信息。</p>
<p>BookInfo.objects.filter(~Q(id=3))</p>
<p><strong>o**</strong>rde<strong>**r_by</strong> <strong>QuerySet</strong></p>
<p><strong>作用：</strong>进行查询结果进行排序。</p>
<p>例：查询所有图书的信息，按照id从小到大进行排序。</p>
<p>BookInfo.objects.all().order_by(‘id’)</p>
<p>BookInfo.objects.order_by(‘id’)</p>
<p>例：查询所有图书的信息，按照id从大到小进行排序。</p>
<p>BookInfo.objects.all().order_by(‘-id’)</p>
<p>例：把id大于3的图书信息按阅读量从大到小排序显示；</p>
<p>BookInfo.objects.filter(id__gt=3).order_by(‘-bread’)</p>
<h2 id="聚合函数"><a href="#聚合函数" class="headerlink" title="聚合函数"></a><strong>聚合函数</strong></h2><p><strong>作用：</strong>对查询结果进行聚合操作。</p>
<p>sum count max min avg</p>
<p><strong>aggregate：调用这个函数来使用聚合。</strong> <strong>返回值是一个字典</strong></p>
<p><strong>使用前需先导入**</strong>聚合类<strong>**：</strong> </p>
<p>from django.db.models import Sum,Count,Max,Min,Avg</p>
<p>例：查询所有图书的数目。Count</p>
<p>BookInfo.objects.aggregate(Count(‘id’))</p>
<p>返回值类型:</p>
<p>{‘id__count’: 5}</p>
<p>例：查询所有图书阅读量的总和。</p>
<p>BookInfo.objects.aggregate(Sum(‘bread’))</p>
<p>{‘bread__sum’: 126}</p>
<p><strong>count函数</strong> <strong>返回值是一个数字</strong></p>
<p>作用：统计满足条件数据的数目。</p>
<p>例：统计所有图书的数目。</p>
<p>BookInfo.objects.count()</p>
<p>例：统计id大于3的所有图书的数目。</p>
<p>BookInfo.objects.filter(id__gt=3).count()</p>
<p><strong>查询相关函数返回值总结：</strong></p>
<p>get:返回一个对象 </p>
<p>all:QuerySet 返回所有数据</p>
<p>filter:QuerySet 返回满足条件的数据</p>
<p>exclude:QuerySet 返回不满条件的数据</p>
<p>order_by:QuerySet 对查询结果进行排序</p>
<p>aggregate:字典 进行聚合操作</p>
<p>count:数字 返回查询集中数据的数目</p>
<p>get,filter,exclude参数中可以写查询条件。</p>
<h2 id="查询集"><a href="#查询集" class="headerlink" title="查询集"></a><strong>查询集</strong></h2><p>all, filter, exclude, order_by调用这些函数会产生一个查询集，可以在查询集上继续调用这些函数。</p>
<p><strong>查询集特性：</strong></p>
<p>1） 惰性查询：只有在实际使用查询集中的数据的时候才会发生对数据库的真正查询。</p>
<p>2） 缓存：当使用的是同一个查询集时，第一次的时候会发生实际数据库的查询，然后把结果缓存起来，之后再使用这个查询集时，使用的是缓存中的结果。</p>
<p><strong>限制查询集：</strong></p>
<p>可以对一个查询集进行取下标或者切片操作来限制查询集的结果。</p>
<p>b[0]就是取出查询集的第一条数据，b[0:1].get()也可取出查询集的第一条数据。如果b[0]不存在，会抛出IndexError异常，如果b[0:1].get()不存在，会抛出DoesNotExist异常。多条时抛MultiObjectsReturned</p>
<p>对一个查询集进行切片操作<strong>会产生一个新的查询集</strong>，下标不允许为负数。</p>
<p><strong>e**</strong>xists:<strong>**判断一个查询集中是否有数据。True False</strong></p>
<h2 id="模型类关系"><a href="#模型类关系" class="headerlink" title="模型类关系"></a><strong>模型类关系</strong></h2><p>1） 一对多关系</p>
<p>例：图书类-英雄类 </p>
<p>models.ForeignKey() 定义在多的类中。</p>
<p>2） 多对多关系</p>
<p>例：新闻类-新闻类型类 体育新闻 国际</p>
<p>models.ManyToManyField() 定义在哪个类中都可以。</p>
<p>3） 一对一关系</p>
<p>例：员工基本信息类-员工详细信息类. 员工工号</p>
<p>models.OneToOneField定义在哪个类中都可以。</p>
<h2 id="关联查询（-一对多-）"><a href="#关联查询（-一对多-）" class="headerlink" title="关联查询（**一对多**）"></a><strong>关联查询（**</strong>一对多<strong>**）</strong></h2><p>在一对多关系中，一对应的类我们把它叫做一类，多对应的那个类我们把它叫做多类，我们把多类中定义的建立关联的类属性叫做关联属性。</p>
<p>例：查询图书id为1的所有英雄的信息。</p>
<p>​    book = BookInfo.objects.get(id=1)</p>
<p>​    book.heroinfo_set.all()</p>
<p><strong>通过模型类查询：</strong></p>
<p>​    HeroInfo.objects.filter(hbook_id=1)</p>
<p>例：查询id为1的英雄所属图书信息。</p>
<p>​    hero =HeroInfo.objects.get(id=1)</p>
<p>​    hero.hbook</p>
<p><strong>通过模型类查询：</strong></p>
<p>BookInfo.objects.filter(heroinfo__id=1)</p>
<p>​    </p>
<p><strong>格式：</strong></p>
<p><img src="/2020/02/01/Python/Django%E6%A1%86%E6%9E%B6%E8%A7%A3%E6%9E%90/18.png" alt="img"> </p>
<p>由一类的对象查询多类的时候：</p>
<p>​    一类的对象.多类名小写_set.all() #查询所用数据</p>
<p>由多类的对象查询一类的时候：</p>
<p>​    多类的对象.关联属性  #查询多类的对象对应的一类的对象</p>
<p>由多类的对象查询一类对象的id时候：</p>
<p>​    多类的对象. 关联属性_id</p>
<p><strong>通过模型类实现关联查询：</strong></p>
<p>例：查询图书信息，要求图书中英雄的描述包含’八’。</p>
<p>BookInfo.objects.filter(heroinfo__hcomment__contains=’八’)</p>
<p>例：查询图书信息，要求图书中的英雄的id大于3.</p>
<p>BookInfo.objects.filter(heroinfo__id__gt=3)</p>
<p>例：查询书名为“天龙八部”的所有英雄。</p>
<p>HeroInfo.objects.filter(hbook__btitle=’天龙八部’)</p>
<p>通过多类的条件查询一类的数据：</p>
<p>​    一类名.objects.filter(多类名小写<strong>多类属性名</strong>条件名) </p>
<p>通过一类的条件查询多类的数据：</p>
<p>​    多类名.objects.filter(关联属性<strong>一类属性名</strong>条件名)</p>
<h2 id="插入、更新和删除"><a href="#插入、更新和删除" class="headerlink" title="插入、更新和删除"></a><strong>插入、更新和删除</strong></h2><p>调用一个模型类对象的save方法的时候就可以实现对模型类对应数据表的插入和更新。</p>
<p>调用一个模型类对象的delete方法的时候就可以实现对模型类对应数据表数据的删除。</p>
<h2 id="自关联"><a href="#自关联" class="headerlink" title="自关联"></a><strong>自关联</strong></h2><p><img src="/2020/02/01/Python/Django%E6%A1%86%E6%9E%B6%E8%A7%A3%E6%9E%90/19.png" alt="img"> </p>
<p>自关联是一种特殊的一对多的关系。</p>
<p>案例：显示广州市的上级地区和下级地区。</p>
<p>地区表：id, title, parenteid;</p>
<p>mysql终端中批量执行sql语句：source areas.sql;</p>
<h2 id="管理器"><a href="#管理器" class="headerlink" title="管理器"></a><strong>管理器</strong></h2><p>BookInfo.objects.all()-&gt;objects是一个什么东西呢？</p>
<p>答：objects是Django帮我自动生成的管理器对象，通过这个管理器可以实现对数据的查询。</p>
<p>objects是models.Manger类的一个对象。自定义管理器之后Django不再帮我们生成默认的objects管理器。</p>
<p>1) 自定义一个管理器类，这个类继承models.Manger类。</p>
<p>2) 再在具体的模型类里定义一个自定义管理器类的对象。</p>
<p>自定义管理器类的应用场景：</p>
<p>1） 改变查询的结果集。</p>
<p>比如调用BookInfo.books.all()返回的是没有删除的图书的数据。</p>
<p>2） 添加额外的方法。</p>
<p>管理器类中定义一个方法帮我们创建对应的模型类对象。</p>
<p>使用self.model()就可以创建一个跟自定义管理器对应的模型类对象。</p>
<h2 id="元选项"><a href="#元选项" class="headerlink" title="元选项"></a><strong>元选项</strong></h2><p><strong>Django默认生成的表名：</strong></p>
<p>​    应用名小写_模型类名小写。</p>
<p><strong>元选项：</strong></p>
<p>需要在模型类中定义一个元类Meta,在里面定义一个类属性db_table就可以指定表名。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2020/02/01/Python/Django%E6%A1%86%E6%9E%B6%E8%A7%A3%E6%9E%90/" data-id="ck631zdrm0001b8js0fva9fdr" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
    
<nav id="article-nav">
  
  
    <a href="/2020/01/30/Python/Django%E4%B8%80%E6%9D%A1%E9%BE%99/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">Django一条龙</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">分类</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/CSS/">CSS</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Linux/">Linux</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/">Python</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/">数据库</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/CnetOS7/" rel="tag">CnetOS7</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Django/" rel="tag">Django</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Mysql/" rel="tag">Mysql</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Python/" rel="tag">Python</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Python%E9%94%99%E8%AF%AF%E6%94%B6%E9%9B%86/" rel="tag">Python错误收集</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%89%8D%E7%AB%AF/" rel="tag">前端</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%AE%89%E8%A3%85/" rel="tag">安装</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">归档</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/02/">二月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/01/">一月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/12/">十二月 2019</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">最新文章</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2020/02/01/Python/Django%E6%A1%86%E6%9E%B6%E8%A7%A3%E6%9E%90/">Python/Django框架解析</a>
          </li>
        
          <li>
            <a href="/2020/01/30/Python/Django%E4%B8%80%E6%9D%A1%E9%BE%99/">Django一条龙</a>
          </li>
        
          <li>
            <a href="/2020/01/29/Python/Django%E5%85%A5%E9%97%A8/">Django入门</a>
          </li>
        
          <li>
            <a href="/2020/01/29/CentOS7/Centos7%E4%B8%8B%E6%90%AD%E5%BB%BAPython%E8%BF%90%E8%A1%8C%E7%8E%AF%E5%A2%83/">Centos7下搭建Python运行环境</a>
          </li>
        
          <li>
            <a href="/2020/01/25/%E5%89%8D%E7%AB%AFCSS/%E4%BA%8C%E5%8D%81%E5%85%AB%E3%80%81%E7%9B%92%E5%AD%90%E6%B0%B4%E5%B9%B3%E5%92%8C%E5%9E%82%E7%9B%B4%E5%B1%85%E4%B8%AD/">二十八、盒子水平和垂直居中</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2020 Orcate<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">首页</a>
  
    <a href="/archives" class="mobile-nav-link">归档</a>
  
</nav>
    

<!-- <script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script> -->


  
<link rel="stylesheet" href="/fancybox/jquery.fancybox.css">

  
<script src="/fancybox/jquery.fancybox.pack.js"></script>




<script src="/js/script.js"></script>

<!--  -->


  </div>
</body>
</html>